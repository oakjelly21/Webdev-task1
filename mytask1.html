<!DOCTYPE html>
<html>
<head>
    <title>calorie table</title>

    <style>
        table
        {
            width: 70%;
            font: 17px Calibri;
        }
        table, th, td
        {
            border: solid 1px #DDD;
            border-collapse: collapse;
            padding: 2px 3px;
            text-align: center;
        }
    </style>
</head>
<body onload="createTable()">
    <div id ='name'></div>
    <div id = "age"></div>
    <div id = "gender"></div>
    <p>REQIURED CALORIES PER DAY : <div id = "calreq"></div></p>
    <ps>Click the "Add Meal" button to add a meal to the table. Enter values in each row.</p>
    <p>
        <input type="button" id="addRow" value="Add Meal" onclick="addRow()" />
    </p>

    <!--THE CONTAINER WHERE WE'll ADD THE DYNAMIC TABLE-->
    <div id="cont"></div>

    <div id="sum"></div>

</body>

<script>
    var name = prompt("Please enter your name", "<name goes here>");
    document.getElementById("name").innerHTML = "NAME :"+ name;
    var age = prompt("Please enter your age", "<age goes here>");
    document.getElementById("age").innerHTML = "AGE : "+age;
    var gender = prompt("Please enter your gender", "<gender goes here>");
    document.getElementById("gender").innerHTML = "GENDER : "+gender;
    var calreq;
    if (gender==="MALE"){
      calreq = 2500;
      document.getElementById("calreq").innerHTML = "2000-3000";
    }
    else {
      calreq = 2000;
      document.getElementById("calreq").innerHTML = "1500-2500";
    }
    // ARRAY FOR HEADER.
    var arrHead = new Array();
    arrHead = ['', 'Food Item', 'Time Eaten', 'Calories'];      // SIMPLY ADD OR REMOVE VALUES IN THE ARRAY FOR TABLE HEADERS.

    // FIRST CREATE A TABLE STRUCTURE BY ADDING A FEW HEADERS AND
    // ADD THE TABLE TO YOUR WEB PAGE.
    function createTable() {
        var empTable = document.createElement('table');
        empTable.setAttribute('id', 'empTable');            // SET THE TABLE ID.

        var tr = empTable.insertRow(-1);

        for (var h = 0; h < arrHead.length; h++) {
            var th = document.createElement('th');          // TABLE HEADER.
            th.innerHTML = arrHead[h];
            tr.appendChild(th);
        }

        var div = document.getElementById('cont');
        div.appendChild(empTable);    // ADD THE TABLE TO YOUR WEB PAGE.
    }

    // ADD A NEW ROW TO THE TABLE.s
    function addRow() {
        var empTab = document.getElementById('empTable');

        var rowCnt = empTab.rows.length;        // GET TABLE ROW COUNT.
        var tr = empTab.insertRow(rowCnt);      // TABLE ROW.
        tr = empTab.insertRow(rowCnt);

        for (var c = 0; c < arrHead.length; c++) {
            var td = document.createElement('td');          // TABLE DEFINITION.
            td = tr.insertCell(c);

            if (c == 0) {           // FIRST COLUMN.
                // ADD A BUTTON.
                var button = document.createElement('input');

                // SET INPUT ATTRIBUTE.
                button.setAttribute('type', 'button');
                button.setAttribute('value', 'Remove');

                // ADD THE BUTTON's 'onclick' EVENT.
                button.setAttribute('onclick', 'removeRow(this)');

                td.appendChild(button);
            }
            else {
                // CREATE AND ADD TEXTBOX IN EACH CELL.
                var ele = document.createElement('input');
                ele.setAttribute('type', 'text');
                ele.setAttribute('value', '');

                td.appendChild(ele);
            }
          }
          checkSum();
    }
    function checkSum(){
      var empTab = document.getElementById('empTable');
      mytablebody = mytable.getElementsByTagName("tbody")[0];
      var sum;
      for (i = 1; i < empTab.rows.length; i++) {
        myrow = mytablebody.getElementsByTagName("tr");[i];
        mycel = myrow.getElementsByTagName("td")[3];
        myceltext=mycel.childNodes[0];
        sum = sum + myceltext.innerHTML;
      }
      document.getElementById("sum").innerHTML = sum;

    }


//DELETE ROW
    function removeRow(oButton) {
        var empTab = document.getElementById('empTable');
        empTab.deleteRow(oButton.parentNode.parentNode.rowIndex);
    }


</script>
</html>
